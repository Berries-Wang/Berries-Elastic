# ElasticSearch 生产环境架构
线上环境的ElasticSearch集群包含13个节点，这些节点分别负责不同的索引和分片，以确保容错性和高可用性。

根据业务需求，创建了20+个索引，这些索引对应着不同的业务数据。每个索引每天递增的数据量在20+GB，索引大小控制在150GB之内

在索引的划分方面，采用了10个分片，根据买家唯一标识来路由，每个分片都是一个独立的Lucene索引，可以存储一部分数据，这样的划分可以负载均衡，将搜索和更新请求分散到多个节点上，提高并发处理能力，从而提高搜索性能和可靠性。

此外，还使用副本分片来提供数据冗余和容错性，每个主分片都有一个对应的副本分片，共10个分片和10个副本分片，这样设计可以确保即使某个节点发生故障，也不会影响整个索引的可用性。

在集群的配置方面，每个节点都配备了高性能的处理器和大容量的处理器，还使用了ElasticSearch的优化版本，以确保系统的高效性和稳定性。

总的来说，我们的ElasticSearch集群具有可拓展、高可用和容错性的特点，通过合理的索引和分片设计，实现了高效的搜索和数据分析能力，能够满足公司的业务需求。

### 总结
1. 集群有多少个节点
2. 为业务创建了多少个索引，业务功能是什么，每个索引有多少个主分片，多少个副本分片，为什么要这么设计，每天的数据增长多少
3. ElasticSearch宿主机选择是什么样的，为什么要这么选